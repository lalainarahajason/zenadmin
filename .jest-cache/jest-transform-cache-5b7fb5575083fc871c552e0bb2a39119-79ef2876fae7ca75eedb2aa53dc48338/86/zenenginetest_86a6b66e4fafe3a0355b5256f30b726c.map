{"version":3,"names":["mockJQuery","selector","ready","callback","global","$","jQuery","describe","Engine","beforeEach","document","body","innerHTML","classList","remove","window","zenadminConfig","nonce","ajaxUrl","whitelist","blocked","i18n","confirmTitle","confirm","cancel","jest","resetModules","require","ZenAdminEngine","test","expect","toBeDefined","isActive","toBe","contains","toggleMode"],"sources":["zen-engine.test.js"],"sourcesContent":["/**\n * @jest-environment jsdom\n */\n\n// Mock jQuery to avoid npm install errors locally\nconst mockJQuery = function (selector) {\n    return {\n        ready: function (callback) {\n            callback();\n        }\n    };\n};\nglobal.$ = global.jQuery = mockJQuery;\n\ndescribe('ZenAdmin Engine', () => {\n    let Engine;\n\n    beforeEach(() => {\n        // Reset DOM\n        document.body.innerHTML = `\n            <div id=\"wp-admin-bar-zenadmin-toggle\"></div>\n            <div id=\"wp-admin-bar-zenadmin-clear-session\"><a></a></div>\n            <div class=\"zenadmin-hover-overlay\"></div>\n        `;\n        document.body.classList.remove('zenadmin-mode-active');\n\n        // Mock Config\n        window.zenadminConfig = {\n            nonce: 'test-nonce',\n            ajaxUrl: '/wp-admin/admin-ajax.php',\n            whitelist: ['#wpadminbar'],\n            blocked: {},\n            i18n: { confirmTitle: 'Hide', confirm: 'Hide', cancel: 'Cancel' }\n        };\n\n        // Load the file content to execute the IIFE\n        jest.resetModules();\n        require('../../assets/zen-engine.js');\n\n        Engine = window.ZenAdminEngine;\n    });\n\n    test('Engine should be defined', () => {\n        expect(Engine).toBeDefined();\n    });\n\n    test('toggleMode should toggle class on body', () => {\n        // Initial state\n        expect(Engine.isActive).toBe(false);\n        expect(document.body.classList.contains('zenadmin-mode-active')).toBe(false);\n\n        // Toggle ON\n        Engine.toggleMode();\n        expect(Engine.isActive).toBe(true);\n        expect(document.body.classList.contains('zenadmin-mode-active')).toBe(true);\n\n        // Toggle OFF\n        Engine.toggleMode();\n        expect(Engine.isActive).toBe(false);\n        expect(document.body.classList.contains('zenadmin-mode-active')).toBe(false);\n    });\n\n    test('toggleMode(true) should force active state', () => {\n        Engine.toggleMode(true);\n        expect(Engine.isActive).toBe(true);\n    });\n});\n"],"mappings":"AAAA;AACA;AACA;;AAEA;AACA,MAAMA,UAAU,GAAG,SAAAA,CAAUC,QAAQ,EAAE;EACnC,OAAO;IACHC,KAAK,EAAE,SAAAA,CAAUC,QAAQ,EAAE;MACvBA,QAAQ,CAAC,CAAC;IACd;EACJ,CAAC;AACL,CAAC;AACDC,MAAM,CAACC,CAAC,GAAGD,MAAM,CAACE,MAAM,GAAGN,UAAU;AAErCO,QAAQ,CAAC,iBAAiB,EAAE,MAAM;EAC9B,IAAIC,MAAM;EAEVC,UAAU,CAAC,MAAM;IACb;IACAC,QAAQ,CAACC,IAAI,CAACC,SAAS,GAAG;AAClC;AACA;AACA;AACA,SAAS;IACDF,QAAQ,CAACC,IAAI,CAACE,SAAS,CAACC,MAAM,CAAC,sBAAsB,CAAC;;IAEtD;IACAC,MAAM,CAACC,cAAc,GAAG;MACpBC,KAAK,EAAE,YAAY;MACnBC,OAAO,EAAE,0BAA0B;MACnCC,SAAS,EAAE,CAAC,aAAa,CAAC;MAC1BC,OAAO,EAAE,CAAC,CAAC;MACXC,IAAI,EAAE;QAAEC,YAAY,EAAE,MAAM;QAAEC,OAAO,EAAE,MAAM;QAAEC,MAAM,EAAE;MAAS;IACpE,CAAC;;IAED;IACAC,IAAI,CAACC,YAAY,CAAC,CAAC;IACnBC,OAAO,CAAC,4BAA4B,CAAC;IAErCnB,MAAM,GAAGO,MAAM,CAACa,cAAc;EAClC,CAAC,CAAC;EAEFC,IAAI,CAAC,0BAA0B,EAAE,MAAM;IACnCC,MAAM,CAACtB,MAAM,CAAC,CAACuB,WAAW,CAAC,CAAC;EAChC,CAAC,CAAC;EAEFF,IAAI,CAAC,wCAAwC,EAAE,MAAM;IACjD;IACAC,MAAM,CAACtB,MAAM,CAACwB,QAAQ,CAAC,CAACC,IAAI,CAAC,KAAK,CAAC;IACnCH,MAAM,CAACpB,QAAQ,CAACC,IAAI,CAACE,SAAS,CAACqB,QAAQ,CAAC,sBAAsB,CAAC,CAAC,CAACD,IAAI,CAAC,KAAK,CAAC;;IAE5E;IACAzB,MAAM,CAAC2B,UAAU,CAAC,CAAC;IACnBL,MAAM,CAACtB,MAAM,CAACwB,QAAQ,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC;IAClCH,MAAM,CAACpB,QAAQ,CAACC,IAAI,CAACE,SAAS,CAACqB,QAAQ,CAAC,sBAAsB,CAAC,CAAC,CAACD,IAAI,CAAC,IAAI,CAAC;;IAE3E;IACAzB,MAAM,CAAC2B,UAAU,CAAC,CAAC;IACnBL,MAAM,CAACtB,MAAM,CAACwB,QAAQ,CAAC,CAACC,IAAI,CAAC,KAAK,CAAC;IACnCH,MAAM,CAACpB,QAAQ,CAACC,IAAI,CAACE,SAAS,CAACqB,QAAQ,CAAC,sBAAsB,CAAC,CAAC,CAACD,IAAI,CAAC,KAAK,CAAC;EAChF,CAAC,CAAC;EAEFJ,IAAI,CAAC,4CAA4C,EAAE,MAAM;IACrDrB,MAAM,CAAC2B,UAAU,CAAC,IAAI,CAAC;IACvBL,MAAM,CAACtB,MAAM,CAACwB,QAAQ,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC;EACtC,CAAC,CAAC;AACN,CAAC,CAAC","ignoreList":[]}