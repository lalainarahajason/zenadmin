{"version":3,"names":["$","require","global","jQuery","describe","Engine","beforeEach","document","body","innerHTML","classList","remove","window","zenadminConfig","nonce","ajaxUrl","whitelist","blocked","i18n","confirmTitle","confirm","cancel","jest","resetModules","ZenAdminEngine","test","expect","toBeDefined","isActive","toBe","contains","toggleMode"],"sources":["zen-engine.test.js"],"sourcesContent":["/**\n * @jest-environment jsdom\n */\n\nconst $ = require('jquery');\nglobal.$ = global.jQuery = $;\n\ndescribe('ZenAdmin Engine', () => {\n    let Engine;\n\n    beforeEach(() => {\n        // Reset DOM\n        document.body.innerHTML = `\n            <div id=\"wp-admin-bar-zenadmin-toggle\"></div>\n            <div id=\"wp-admin-bar-zenadmin-clear-session\"><a></a></div>\n            <div class=\"zenadmin-hover-overlay\"></div>\n        `;\n        document.body.classList.remove('zenadmin-mode-active');\n\n        // Mock Config\n        window.zenadminConfig = {\n            nonce: 'test-nonce',\n            ajaxUrl: '/wp-admin/admin-ajax.php',\n            whitelist: ['#wpadminbar'],\n            blocked: {},\n            i18n: { confirmTitle: 'Hide', confirm: 'Hide', cancel: 'Cancel' }\n        };\n\n        // Load the file content to execute the IIFE\n        jest.resetModules();\n        require('../../assets/zen-engine.js');\n\n        Engine = window.ZenAdminEngine;\n    });\n\n    test('Engine should be defined', () => {\n        expect(Engine).toBeDefined();\n    });\n\n    test('toggleMode should toggle class on body', () => {\n        // Initial state\n        expect(Engine.isActive).toBe(false);\n        expect(document.body.classList.contains('zenadmin-mode-active')).toBe(false);\n\n        // Toggle ON\n        Engine.toggleMode();\n        expect(Engine.isActive).toBe(true);\n        expect(document.body.classList.contains('zenadmin-mode-active')).toBe(true);\n\n        // Toggle OFF\n        Engine.toggleMode();\n        expect(Engine.isActive).toBe(false);\n        expect(document.body.classList.contains('zenadmin-mode-active')).toBe(false);\n    });\n\n    test('toggleMode(true) should force active state', () => {\n        Engine.toggleMode(true);\n        expect(Engine.isActive).toBe(true);\n    });\n});\n"],"mappings":"AAAA;AACA;AACA;;AAEA,MAAMA,CAAC,GAAGC,OAAO,CAAC,QAAQ,CAAC;AAC3BC,MAAM,CAACF,CAAC,GAAGE,MAAM,CAACC,MAAM,GAAGH,CAAC;AAE5BI,QAAQ,CAAC,iBAAiB,EAAE,MAAM;EAC9B,IAAIC,MAAM;EAEVC,UAAU,CAAC,MAAM;IACb;IACAC,QAAQ,CAACC,IAAI,CAACC,SAAS,GAAG;AAClC;AACA;AACA;AACA,SAAS;IACDF,QAAQ,CAACC,IAAI,CAACE,SAAS,CAACC,MAAM,CAAC,sBAAsB,CAAC;;IAEtD;IACAC,MAAM,CAACC,cAAc,GAAG;MACpBC,KAAK,EAAE,YAAY;MACnBC,OAAO,EAAE,0BAA0B;MACnCC,SAAS,EAAE,CAAC,aAAa,CAAC;MAC1BC,OAAO,EAAE,CAAC,CAAC;MACXC,IAAI,EAAE;QAAEC,YAAY,EAAE,MAAM;QAAEC,OAAO,EAAE,MAAM;QAAEC,MAAM,EAAE;MAAS;IACpE,CAAC;;IAED;IACAC,IAAI,CAACC,YAAY,CAAC,CAAC;IACnBtB,OAAO,CAAC,4BAA4B,CAAC;IAErCI,MAAM,GAAGO,MAAM,CAACY,cAAc;EAClC,CAAC,CAAC;EAEFC,IAAI,CAAC,0BAA0B,EAAE,MAAM;IACnCC,MAAM,CAACrB,MAAM,CAAC,CAACsB,WAAW,CAAC,CAAC;EAChC,CAAC,CAAC;EAEFF,IAAI,CAAC,wCAAwC,EAAE,MAAM;IACjD;IACAC,MAAM,CAACrB,MAAM,CAACuB,QAAQ,CAAC,CAACC,IAAI,CAAC,KAAK,CAAC;IACnCH,MAAM,CAACnB,QAAQ,CAACC,IAAI,CAACE,SAAS,CAACoB,QAAQ,CAAC,sBAAsB,CAAC,CAAC,CAACD,IAAI,CAAC,KAAK,CAAC;;IAE5E;IACAxB,MAAM,CAAC0B,UAAU,CAAC,CAAC;IACnBL,MAAM,CAACrB,MAAM,CAACuB,QAAQ,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC;IAClCH,MAAM,CAACnB,QAAQ,CAACC,IAAI,CAACE,SAAS,CAACoB,QAAQ,CAAC,sBAAsB,CAAC,CAAC,CAACD,IAAI,CAAC,IAAI,CAAC;;IAE3E;IACAxB,MAAM,CAAC0B,UAAU,CAAC,CAAC;IACnBL,MAAM,CAACrB,MAAM,CAACuB,QAAQ,CAAC,CAACC,IAAI,CAAC,KAAK,CAAC;IACnCH,MAAM,CAACnB,QAAQ,CAACC,IAAI,CAACE,SAAS,CAACoB,QAAQ,CAAC,sBAAsB,CAAC,CAAC,CAACD,IAAI,CAAC,KAAK,CAAC;EAChF,CAAC,CAAC;EAEFJ,IAAI,CAAC,4CAA4C,EAAE,MAAM;IACrDpB,MAAM,CAAC0B,UAAU,CAAC,IAAI,CAAC;IACvBL,MAAM,CAACrB,MAAM,CAACuB,QAAQ,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC;EACtC,CAAC,CAAC;AACN,CAAC,CAAC","ignoreList":[]}